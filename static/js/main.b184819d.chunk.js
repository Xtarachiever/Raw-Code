(this.webpackJsonpdecagon_project=this.webpackJsonpdecagon_project||[]).push([[0],{14:function(e,t,a){},31:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(20),i=a.n(s),l=(a(31),a(32),a(33),a(34),a(9)),o=(a(14),a(8)),u=a.n(o),j=a(10),d=a(2);var b=function(e){return Object(n.jsxs)("div",{className:"details",children:[Object(n.jsx)("img",{src:e.picture,alt:e.picture}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)("p",{className:"name",children:e.name}),Object(n.jsxs)("p",{children:[e.street,",",e.city,",",e.country]}),Object(n.jsxs)("div",{className:"contact",children:[Object(n.jsx)("p",{className:"email",children:e.email}),Object(n.jsx)("p",{children:e.phone}),Object(n.jsx)("i",{className:"fa fa-arrow-right"})]})]})]})};var h=function(e){for(var t=e.totalPosts,a=e.postsPerPage,c=e.paginate,r=[],s=1;s<=Math.ceil(t/a);s++)r.push(s);return Object(n.jsx)("nav",{children:Object(n.jsx)("ul",{className:"pagination",children:r.map((function(e){return Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("a",{href:"#",onClick:function(){return c(e)},className:"page-link",children:e})},e)}))})})};var f=function(e){var t=e.states,a=e.getGender,c=t.map((function(e){return e.gender})),r=Array.from(new Set(c)).sort();return Object(n.jsx)("div",{className:"users",children:Object(n.jsxs)("nav",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"checkbox",value:"All",onChange:a,id:"All"},"All"),Object(n.jsxs)("label",{htmlFor:"All",children:[Object(n.jsx)("i",{className:"fa fa-users"}),"All Users"]})]}),r.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"checkbox",onChange:a,value:e,id:e},e),Object(n.jsxs)("label",{htmlFor:e,children:[Object(n.jsx)("i",{className:"fa fa-".concat(e)}),e," Users"]})]})}))]})})},O=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(""),i=Object(d.a)(s,2),o=i[0],O=i[1],p=Object(c.useState)([]),m=Object(d.a)(p,2),x=m[0],v=m[1],y=Object(c.useState)([]),N=Object(d.a)(y,2),g=N[0],k=N[1],w=Object(c.useState)("Country"),S=Object(d.a)(w,2),C=S[0],F=S[1],A=Object(c.useState)("All"),E=Object(d.a)(A,2),U=E[0],D=E[1],T=Object(c.useState)(1),L=Object(d.a)(T,2),B=L[0],I=L[1],R=Object(c.useState)(3),J=Object(d.a)(R,1)[0];Object(c.useEffect)((function(){P(),_(),Y()}),[C,U]);var P=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://randomuser.me/api/?results=20");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.results,r(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Error occured");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),z=B*J,G=z-J,M=x.slice(G,z),V=g.slice(G,z),H=a.filter((function(e){return e.name.first.toLowerCase().includes(o.toLowerCase())||e.gender.toLowerCase().includes(o.toLowerCase())})),K=function(e){O(e.target.value),v(H)},W=a.map((function(e){return e.location.country})),Z=Array.from(new Set(W)).sort(),_=function(){switch(O(""),k(""),C){case"Australia":v(a.filter((function(e){return"Australia"===e.location.country})));break;case"Ireland":v(a.filter((function(e){return"Ireland"===e.location.country})));break;case"Brazil":v(a.filter((function(e){return"Brazil"===e.location.country})));break;case"Canada":v(a.filter((function(e){return"Canada"===e.location.country})));break;case"Finland":v(a.filter((function(e){return"Finland"===e.location.country})));break;case"France":v(a.filter((function(e){return"France"===e.location.country})));break;case"Germany":v(a.filter((function(e){return"Germany"===e.location.country})));break;case"Denmark":v(a.filter((function(e){return"Denmark"===e.location.country})));break;case"Spain":v(a.filter((function(e){return"Spain"===e.location.country})));break;case"United Kingdom":v(a.filter((function(e){return"United Kingdom"===e.location.country})));break;case"Iran":v(a.filter((function(e){return"Iran"===e.location.country})));break;case"Norway":v(a.filter((function(e){return"Norway"===e.location.country})));break;case"Netherlands":v(a.filter((function(e){return"Netherlands"===e.location.country})));break;case"New Zealand":v(a.filter((function(e){return"New Zealand"===e.location.country})));break;case"Turkey":v(a.filter((function(e){return"Turkey"===e.location.country})));break;case"United States":v(a.filter((function(e){return"United States"===e.location.country})));break;default:v(a)}},Y=function(){switch(U){case"female":k(a.filter((function(e){return"female"===e.gender})));break;case"male":k(a.filter((function(e){return"male"===e.gender})));break;default:k(a)}};return Object(n.jsxs)("div",{className:"contents","data-testid":"home",children:[Object(n.jsxs)("div",{className:"contents-one",children:[Object(n.jsxs)("p",{className:"header",children:["Hello,",Object(n.jsx)("span",{children:" Emerald"})]}),Object(n.jsx)("p",{children:"Welcome to your dashboard, kindly sort through the user base"}),Object(n.jsxs)("div",{className:"search",children:[Object(n.jsx)("i",{className:"fa fa-search"}),Object(n.jsx)("input",{type:"text",placeholder:"Find a user",value:o,onChange:K})]}),Object(n.jsx)("p",{className:"user-header",children:"Show Users"}),Object(n.jsx)("div",{className:"user-gender",children:Object(n.jsx)(f,{states:a,getGender:function(e){D(e.target.value),v(V)}})})]}),Object(n.jsxs)("div",{className:"content-two",children:[Object(n.jsx)("p",{className:"filter",children:"Filter By"}),Object(n.jsxs)("div",{className:"heading",children:[Object(n.jsxs)("div",{className:"search",children:[Object(n.jsx)("i",{className:"fa fa-search"}),Object(n.jsx)("input",{type:"text",value:o,onChange:K,placeholder:"Find a user"})]}),Object(n.jsx)("div",{className:"select",children:Object(n.jsxs)("select",{onChange:function(e){F(e.target.value)},children:[Object(n.jsx)("option",{value:"Country",children:"Country"}),Z.map((function(e){return""===e?Object(n.jsx)("option",{value:"Not Set",children:"Not Set"},"Not Set"):Object(n.jsx)("option",{value:e,children:e},e)}))]})})]}),Object(n.jsx)("div",{className:"info",children:M.map((function(e){return Object(n.jsx)(l.b,{to:"/".concat(e.name.first),style:{textDecoration:"none"},className:"linked",children:Object(n.jsx)(b,{name:e.name.first,picture:e.picture.medium,street:e.location.street.number,city:e.location.street.name,country:e.location.country,email:e.email,phone:e.cell},e.email)})}))}),Object(n.jsxs)("div",{className:"next",children:[Object(n.jsx)(l.b,{to:"/:name/downloader",children:Object(n.jsxs)("button",{children:[Object(n.jsx)("i",{className:"fa fa-cloud-download"}),"Download Results"]})}),Object(n.jsx)(h,{totalPosts:a.length,postsPerPage:J,paginate:function(e){return I(e)}})]})]})]})},p=a(3);var m=function(e){var t=e.name,a=e.picture,c=e.street,r=e.city,s=e.country,i=e.email,l=e.phone,o=e.date,u=new Date(o),j=u.getFullYear(),d=u.getMonth(),b=u.getDay();return d<10&&(d="0"+d),b<10&&(b="0"+b),Object(n.jsxs)("div",{className:"each-detail",children:[Object(n.jsx)("img",{src:a,alt:t}),Object(n.jsxs)("div",{className:"information",children:[Object(n.jsx)("p",{children:t}),Object(n.jsxs)("p",{children:[c,",",r,",",s]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("i",{className:"fa fa-envelope"}),i]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("i",{className:"fa fa-phone"}),l]}),Object(n.jsxs)("p",{children:["Joined:  ","".concat(j,"-").concat(d,"-").concat(b)]})]})]})},x=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(""),i=Object(d.a)(s,2),l=i[0],o=i[1],b=Object(c.useState)([]),h=Object(d.a)(b,1)[0],O=Object(c.useState)([]),p=Object(d.a)(O,1)[0],m=Object(c.useState)("Country"),x=Object(d.a)(m,1)[0],v=Object(c.useState)("All"),y=Object(d.a)(v,2),N=y[0],g=y[1],k=Object(c.useState)(!1),w=Object(d.a)(k,1)[0];Object(c.useEffect)((function(){return w(!0),function(){return w(!1)}}),[]),Object(c.useEffect)((function(){S(),F()}),[x,N]);var S=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://randomuser.me/api/?results=20");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.results,r(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Error occured");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),C=a.filter((function(e){return e.name.first.toLowerCase().includes(l.toLowerCase())||e.gender.toLowerCase().includes(l.toLowerCase())})),F=function(){switch(N){case"female":p(a.filter((function(e){return"female"===e.gender})));break;case"male":p(a.filter((function(e){return"male"===e.gender})));break;default:p(a)}};return Object(n.jsx)("div",{className:"contents",children:Object(n.jsxs)("div",{className:"contents-one",children:[Object(n.jsxs)("p",{className:"header",children:["Hello,",Object(n.jsx)("span",{children:" Emerald"})]}),Object(n.jsx)("p",{children:"Welcome to your dashboard, kindly sort through the user base"}),Object(n.jsxs)("div",{className:"search",children:[Object(n.jsx)("i",{className:"fa fa-search"}),Object(n.jsx)("input",{type:"text",placeholder:"Find a user",value:l,onChange:function(e){o(e.target.value),h(C)}})]}),Object(n.jsx)("p",{className:"user-header",children:"Show Users"}),Object(n.jsx)("div",{className:"user-gender",children:Object(n.jsx)(f,{states:a,getGender:function(e){g(e.target.value)}})})]})})};var v=function(e){var t=e.match,a=Object(c.useState)([]),r=Object(d.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)([]),b=Object(d.a)(o,2),h=b[0],f=b[1],O=Object(c.useState)(""),p=Object(d.a)(O,2),v=p[0],y=p[1],N=Object(c.useState)([]),g=Object(d.a)(N,2),k=(g[0],g[1]),w=Object(c.useState)([]),S=Object(d.a)(w,2),C=(S[0],S[1]),F=Object(c.useState)("Country"),A=Object(d.a)(F,2),E=A[0],U=A[1],D=Object(c.useState)("All"),T=Object(d.a)(D,2),L=(T[0],T[1],Object(c.useState)(!1)),B=Object(d.a)(L,2),I=(B[0],B[1]);Object(c.useEffect)((function(){return I(!0),function(){return I(!1)}}),[]),Object(c.useEffect)((function(){G(),P(),z()}),[]);var R=h.map((function(e){return e.location.country})),J=Array.from(new Set(R)).sort(),P=function(){switch(y(""),C(""),E){case"Australia":k(h.filter((function(e){return"Australia"===e.location.country})));break;case"Ireland":k(h.filter((function(e){return"Ireland"===e.location.country})));break;case"Brazil":k(h.filter((function(e){return"Brazil"===e.location.country})));break;case"Canada":k(h.filter((function(e){return"Canada"===e.location.country})));break;case"Finland":k(h.filter((function(e){return"Finland"===e.location.country})));break;default:k(h)}},z=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://randomuser.me/api/?results=20");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.results,f(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Error occured");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://randomuser.me/api/?results=20/".concat(t.params.name));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,i(n.results),console.log(n.results),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Sorry something went wrong");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"each-info",children:[Object(n.jsx)(x,{}),Object(n.jsxs)("div",{className:"content-two detailed",children:[Object(n.jsx)("div",{className:"filter",children:Object(n.jsx)("p",{className:"filter",children:"Filter By"})}),Object(n.jsxs)("div",{className:"heading",children:[Object(n.jsxs)("div",{className:"search",children:[Object(n.jsx)("i",{className:"fa fa-search"}),Object(n.jsx)("input",{type:"text",value:v,onChange:function(e){y(e.target.value)},placeholder:"Find a user"})]}),Object(n.jsx)("div",{className:"select",children:Object(n.jsxs)("select",{onChange:function(e){U(e.target.value)},children:[Object(n.jsx)("option",{value:"Country",children:"Country"}),J.map((function(e){return""===e?Object(n.jsx)("option",{value:"Not Set",children:"Not Set"},"Not Set"):Object(n.jsx)("option",{value:e,children:e},e)}))]})})]}),Object(n.jsxs)(l.b,{to:"/",className:"results",children:[Object(n.jsx)("i",{className:"fa fa-arrow-left"}),Object(n.jsx)("p",{children:"Results"})]}),Object(n.jsx)("div",{className:"eached",children:s.map((function(e){return Object(n.jsx)(m,{name:e.name.first,picture:e.picture.large,street:e.location.street.number,city:e.location.street.name,country:e.location.country,email:e.email,phone:e.cell,date:e.registered.date},e.email)}))})]})]})},y=a(22),N=a(23),g=a(12),k=a(25),w=a(24),S=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(e){var n;Object(y.a)(this,a);return(n=t.call(this,e)).fileNames={json:"states.json",csv:"states.csv",text:"states.txt"},n.state={fileType:"json",fileDownloadUrl:null,status:"",data:[{state:"Arizona",electors:11},{state:"Flora",electors:29},{state:"Fauna",electors:6},{state:"Michel",electors:16},{state:" ",electors:16},{state:"North Carolina",electors:15},{state:"Anna",electors:17},{state:"Debbie",electors:20},{state:"Jason",electors:10}]},n.changeFileType=n.changeFileType.bind(Object(g.a)(n)),n.download=n.download.bind(Object(g.a)(n)),n.upload=n.upload.bind(Object(g.a)(n)),n.openFile=n.openFile.bind(Object(g.a)(n)),n}return Object(N.a)(a,[{key:"changeFileType",value:function(e){var t=e.target.value;this.setState({fileType:t})}},{key:"download",value:function(e){var t,a=this;if(e.preventDefault(),"json"===this.state.fileType)t=JSON.stringify({states:this.state.data},null,4);else if("csv"===this.state.fileType){var n=[];n.push(["State","Electors"]),this.state.data.forEach((function(e){n.push([e.state,e.electors])})),t=this.makeCSV(n)}else"text"===this.state.fileType&&(t="",this.state.data.forEach((function(e){t+="".concat(e.state,": ").concat(e.electors,"\n")})));var c=new Blob([t]),r=URL.createObjectURL(c);this.setState({fileDownloadUrl:r},(function(){a.dofileDownload.click(),URL.revokeObjectURL(r),a.setState({fileDownloadUrl:""})}))}},{key:"makeCSV",value:function(e){var t="";return e.forEach((function(e){e.forEach((function(e,a){var n=(null===e?"":e.toString()).replace(/"/g,'""');n.search(/("|,|\n)/g)>=0&&(n='"'+n+'"'),a>0&&(t+=","),t+=n})),t+="\n"})),t}},{key:"upload",value:function(e){e.preventDefault(),this.dofileUpload.click()}},{key:"openFile",value:function(e){var t=this,a=[],n=e.target.files[0],c=new FileReader,r=function(e){var c=e.target.result;a.push('File name: "'.concat(n.name,'". Length: ').concat(c.length," bytes."));var r=c.substring(0,80);a.push("First 80 characters of the file:\n".concat(r)),t.setState({status:a.join("\n")})};r=r.bind(this),c.onload=r,c.readAsText(n)}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"State"}),Object(n.jsx)("th",{children:"Electors"})]})}),Object(n.jsx)("tbody",{children:this.state.data.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.state}),Object(n.jsx)("td",{children:e.electors})]},e.state)}))})]}),Object(n.jsxs)("form",{children:[Object(n.jsx)("span",{className:"mr",children:"File type:"}),Object(n.jsxs)("select",{name:"fileType",onChange:this.changeFileType,value:this.state.fileType,className:"mr",children:[Object(n.jsx)("option",{value:"csv",children:"CSV"}),Object(n.jsx)("option",{value:"json",children:"JSON"}),Object(n.jsx)("option",{value:"text",children:"Text"})]}),Object(n.jsx)("button",{onClick:this.download,children:"Download the file!"}),Object(n.jsx)("a",{className:"hidden",download:this.fileNames[this.state.fileType],href:this.state.fileDownloadUrl,ref:function(t){return e.dofileDownload=t},children:"download it"})]}),Object(n.jsx)("pre",{className:"status",children:this.state.status})]})}}]),a}(r.a.Component);var C=function(){return Object(n.jsx)(l.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(p.c,{children:[Object(n.jsx)(p.a,{exact:!0,path:"/",component:O}),Object(n.jsx)(p.a,{exact:!0,path:"/:name",component:v}),Object(n.jsx)(p.a,{exact:!0,path:"/:name/downloader",component:S})]})})})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(l.a,{children:Object(n.jsx)(C,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.b184819d.chunk.js.map